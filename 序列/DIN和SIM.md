普通的是直接对lastn物品嵌入取平均 

DIN 和候选物品求相似度 用相似度做加权和

DIN的缺点：记录的兴趣太短 只关注短期兴趣

改进：DIN在计算lastn权重的时候，如果权重很低 则从lastn中删除

具体实现 对每个候选物品 快速查找 找到k个相似物品
相当于把lastn转换为topk

查找方法很多
比如用规则（同类别）
或者用向量 但是计算量大